<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microsite Dinamis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob { animation: blob 7s infinite; }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
        .animate-fade-in-up { animation: fadeInUp 0.5s ease-out; }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        /* Modal Animation */
        .modal-enter { animation: modalIn 0.2s ease-out forwards; }
        @keyframes modalIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // =====================================================================
        // KONFIGURASI PENTING (WAJIB DIISI)
        // =====================================================================
        
        // 1. URL SCRIPT
        const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyymMvP5bdCdxQg2-G6UCEqxwhwW8sBhaJ8QASOIfNIhcxZvxArXJum-cIhR0gULOU28Q/exec";
        
        // 2. PIN ADMIN
        const ADMIN_PIN = "wa1921am"; 

        // 3. URL GOOGLE SHEET DATABASE
        const GOOGLE_SHEET_URL = "https://docs.google.com/spreadsheets/d/1Aob672m7pra6ZTgSaarEd6Q9sJzQdCViU6mFsP4sci8/edit";

        // =====================================================================

        // DATA TEMA (TOTAL 20 TEMA GRADASI)
        const THEMES = {
            // --- GRUP 1: CLASSIC DARK ---
            galaksi: {
                name: 'Galaksi',
                bg: 'bg-slate-900',
                gradient: 'from-slate-900 via-purple-900/40 to-slate-900',
                blob1: 'bg-purple-500', blob2: 'bg-cyan-500',
                preview: 'bg-gradient-to-br from-slate-700 to-purple-900 border-purple-400'
            },
            midnight: {
                name: 'Midnight',
                bg: 'bg-indigo-950',
                gradient: 'from-indigo-950 via-slate-900/80 to-indigo-950',
                blob1: 'bg-indigo-600', blob2: 'bg-blue-600',
                preview: 'bg-gradient-to-br from-indigo-800 to-slate-900 border-indigo-400'
            },
            mewah: {
                name: 'Mewah',
                bg: 'bg-neutral-950',
                gradient: 'from-neutral-950 via-zinc-800/40 to-neutral-950',
                blob1: 'bg-white', blob2: 'bg-zinc-500',
                preview: 'bg-gradient-to-br from-black to-zinc-700 border-white'
            },
            kopi: {
                name: 'Kopi',
                bg: 'bg-amber-950',
                gradient: 'from-amber-950 via-orange-900/40 to-amber-950',
                blob1: 'bg-amber-600', blob2: 'bg-orange-600',
                preview: 'bg-gradient-to-br from-amber-900 to-orange-900 border-amber-500'
            },
            delima: {
                name: 'Delima',
                bg: 'bg-red-950',
                gradient: 'from-red-950 via-rose-900/40 to-red-950',
                blob1: 'bg-red-600', blob2: 'bg-rose-500',
                preview: 'bg-gradient-to-br from-red-900 to-rose-800 border-red-400'
            },

            // --- GRUP 2: ALAM & SEGAR ---
            hutan: {
                name: 'Hutan',
                bg: 'bg-stone-900',
                gradient: 'from-stone-900 via-green-900/40 to-stone-900',
                blob1: 'bg-green-600', blob2: 'bg-emerald-500',
                preview: 'bg-gradient-to-br from-stone-800 to-green-900 border-green-500'
            },
            mint: {
                name: 'Mint',
                bg: 'bg-teal-950',
                gradient: 'from-teal-950 via-emerald-900/40 to-teal-950',
                blob1: 'bg-teal-400', blob2: 'bg-emerald-300',
                preview: 'bg-gradient-to-br from-teal-800 to-emerald-600 border-teal-300'
            },
            samudra: {
                name: 'Samudra',
                bg: 'bg-blue-950',
                gradient: 'from-blue-950 via-cyan-900/40 to-blue-950',
                blob1: 'bg-blue-500', blob2: 'bg-sky-400',
                preview: 'bg-gradient-to-br from-blue-900 to-cyan-600 border-cyan-400'
            },
            oceanic: {
                name: 'Oceanic',
                bg: 'bg-cyan-950',
                gradient: 'from-cyan-950 via-blue-900/60 to-indigo-950',
                blob1: 'bg-cyan-400', blob2: 'bg-indigo-500',
                preview: 'bg-gradient-to-br from-cyan-600 to-indigo-800 border-cyan-300'
            },
            fresh: {
                name: 'Segar',
                bg: 'bg-sky-950',
                gradient: 'from-sky-950 via-emerald-900/40 to-lime-950',
                blob1: 'bg-sky-400', blob2: 'bg-lime-400',
                preview: 'bg-gradient-to-br from-sky-600 to-lime-600 border-lime-300'
            },

            // --- GRUP 3: VIBRANT & GRADASI ---
            sunset: {
                name: 'Sunset',
                bg: 'bg-orange-950',
                gradient: 'from-orange-900 via-red-900/60 to-purple-900',
                blob1: 'bg-orange-500', blob2: 'bg-purple-500',
                preview: 'bg-gradient-to-br from-orange-500 to-purple-700 border-orange-300'
            },
            aurora: {
                name: 'Aurora',
                bg: 'bg-slate-950',
                gradient: 'from-green-900 via-teal-900/40 to-purple-900',
                blob1: 'bg-green-400', blob2: 'bg-purple-500',
                preview: 'bg-gradient-to-br from-green-600 to-purple-600 border-green-300'
            },
            senja: {
                name: 'Senja',
                bg: 'bg-rose-950',
                gradient: 'from-rose-950 via-orange-900/40 to-rose-950',
                blob1: 'bg-orange-500', blob2: 'bg-rose-500',
                preview: 'bg-gradient-to-br from-rose-800 to-orange-600 border-orange-400'
            },
            lavender: {
                name: 'Lavender',
                bg: 'bg-fuchsia-950',
                gradient: 'from-fuchsia-950 via-purple-900/40 to-fuchsia-950',
                blob1: 'bg-fuchsia-400', blob2: 'bg-purple-400',
                preview: 'bg-gradient-to-br from-fuchsia-700 to-purple-600 border-fuchsia-300'
            },
            fire: {
                name: 'Api',
                bg: 'bg-orange-950',
                gradient: 'from-red-900 via-orange-900/60 to-yellow-900',
                blob1: 'bg-red-600', blob2: 'bg-yellow-500',
                preview: 'bg-gradient-to-br from-red-600 to-yellow-500 border-yellow-300'
            },

            // --- GRUP 4: UNIK & FANTASI ---
            nebula: {
                name: 'Nebula',
                bg: 'bg-indigo-950',
                gradient: 'from-indigo-950 via-fuchsia-900/40 to-rose-950',
                blob1: 'bg-indigo-500', blob2: 'bg-rose-500',
                preview: 'bg-gradient-to-br from-indigo-700 to-rose-600 border-indigo-300'
            },
            cherry: {
                name: 'Cherry',
                bg: 'bg-red-950',
                gradient: 'from-red-900 via-pink-900/60 to-rose-900',
                blob1: 'bg-red-500', blob2: 'bg-pink-500',
                preview: 'bg-gradient-to-br from-red-700 to-pink-500 border-pink-300'
            },
            permen: {
                name: 'Permen',
                bg: 'bg-purple-950',
                gradient: 'from-purple-900 via-pink-900/40 to-cyan-900',
                blob1: 'bg-pink-400', blob2: 'bg-cyan-400',
                preview: 'bg-gradient-to-br from-pink-500 to-cyan-500 border-pink-200'
            },
            bumi: {
                name: 'Bumi',
                bg: 'bg-stone-950',
                gradient: 'from-stone-900 via-emerald-900/30 to-amber-950',
                blob1: 'bg-emerald-600', blob2: 'bg-amber-700',
                preview: 'bg-gradient-to-br from-emerald-800 to-amber-800 border-stone-400'
            },
            royal: {
                name: 'Royal',
                bg: 'bg-yellow-950',
                gradient: 'from-yellow-900 via-amber-900/60 to-orange-900',
                blob1: 'bg-yellow-500', blob2: 'bg-amber-600',
                preview: 'bg-gradient-to-br from-yellow-700 to-amber-800 border-yellow-300'
            }
        };

        // Icons
        const Plus = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>;
        const Trash2 = () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>;
        const ExternalLink = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>;
        const Lock = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>;
        const Unlock = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path></svg>;
        const LayoutGrid = () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>;
        const LinkIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>;
        const AlertTriangle = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>;
        const LogOut = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>;
        const SheetIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>;
        const Palette = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="13.5" cy="6.5" r=".5" fill="currentColor"></circle><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"></circle><circle cx="8.5" cy="7.5" r=".5" fill="currentColor"></circle><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"></circle><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"></path></svg>;

        function App() {
            // State
            const [links, setLinks] = React.useState([]);
            const [view, setView] = React.useState('public');
            const [apiUrl] = React.useState(GOOGLE_SCRIPT_URL);
            const [sheetUrl] = React.useState(GOOGLE_SHEET_URL);
            const [isLoading, setIsLoading] = React.useState(false);
            const [statusMsg, setStatusMsg] = React.useState('');
            
            // TEMA BACKGROUND (Fitur Tambahan)
            // Mengambil tema dari penyimpanan, jika tidak ada default ke 'galaksi'
            const [currentTheme, setCurrentTheme] = React.useState(() => localStorage.getItem('siteTheme') || 'galaksi');
            
            // Auth State
            const [showAuthModal, setShowAuthModal] = React.useState(false);
            const [inputPin, setInputPin] = React.useState('');
            const [isPinError, setIsPinError] = React.useState(false);

            // Delete Confirmation State
            const [deleteId, setDeleteId] = React.useState(null);
            
            // Input State
            const [newLabel, setNewLabel] = React.useState('');
            const [newUrl, setNewUrl] = React.useState('');

            React.useEffect(() => {
                if (apiUrl && apiUrl.includes('script.google.com')) {
                    fetchLinks();
                } else {
                    setStatusMsg('âš ï¸ URL Script belum diisi di kode!');
                }
            }, []);

            // Simpan tema setiap kali user menggantinya
            React.useEffect(() => {
                localStorage.setItem('siteTheme', currentTheme);
            }, [currentTheme]);

            const fetchLinks = async () => {
                if (!apiUrl) return;
                setIsLoading(true);
                try {
                    const res = await fetch(apiUrl);
                    const data = await res.json();
                    setLinks(data);
                    setStatusMsg('');
                } catch (err) {
                    console.error(err);
                    setStatusMsg('Gagal mengambil data.');
                } finally {
                    setIsLoading(false);
                }
            };

            const saveToSheet = async (updatedLinks) => {
                if (!apiUrl) return;
                setIsLoading(true);
                try {
                    await fetch(apiUrl, {
                        method: 'POST',
                        body: JSON.stringify(updatedLinks)
                    });
                    setStatusMsg('âœ… Data tersimpan!');
                    setTimeout(() => setStatusMsg(''), 3000);
                } catch (err) {
                    console.error(err);
                    setStatusMsg('âŒ Gagal menyimpan.');
                } finally {
                    setIsLoading(false);
                }
            };

            const addLink = (e) => {
                e.preventDefault();
                if (!newLabel || !newUrl) return;

                let formattedUrl = newUrl;
                if (!/^https?:\/\//i.test(newUrl)) {
                    formattedUrl = 'https://' + newUrl;
                }

                const gradients = [
                    'from-purple-500 to-indigo-500', 'from-green-400 to-emerald-600',
                    'from-orange-400 to-pink-500', 'from-blue-400 to-indigo-600',
                    'from-pink-500 to-rose-500', 'from-yellow-400 to-orange-500'
                ];
                const randomColor = gradients[Math.floor(Math.random() * gradients.length)];

                const newLinkObj = {
                    id: Date.now(),
                    label: newLabel,
                    url: formattedUrl,
                    color: randomColor
                };

                const updatedLinks = [...links, newLinkObj];
                setLinks(updatedLinks);
                saveToSheet(updatedLinks);
                setNewLabel('');
                setNewUrl('');
            };

            const requestDelete = (id) => {
                setDeleteId(id);
            };

            const confirmDelete = () => {
                if (deleteId) {
                    const updatedLinks = links.filter(link => link.id !== deleteId);
                    setLinks(updatedLinks);
                    saveToSheet(updatedLinks);
                    setDeleteId(null);
                }
            };

            // AUTHENTICATION LOGIC
            const handleAdminClick = () => {
                if (view === 'admin') return;
                setShowAuthModal(true);
                setInputPin('');
                setIsPinError(false);
            };

            const verifyPin = (e) => {
                e.preventDefault();
                if (inputPin === ADMIN_PIN) {
                    setView('admin');
                    setShowAuthModal(false);
                    setInputPin('');
                } else {
                    setIsPinError(true);
                    setTimeout(() => setIsPinError(false), 500); 
                }
            };

            const handleLogout = () => {
                setView('public');
            };

            // LOAD CONFIG TEMA
            const theme = THEMES[currentTheme] || THEMES.galaksi;

            return (
                <div className={`min-h-screen ${theme.bg} font-sans text-white p-4 flex flex-col items-center justify-center relative overflow-hidden transition-colors duration-700`}>
                    <div className={`absolute inset-0 bg-gradient-to-br ${theme.gradient} z-0 transition-all duration-700`}></div>
                    <div className={`absolute top-10 left-10 w-72 h-72 ${theme.blob1} rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob z-0 transition-colors duration-700`}></div>
                    <div className={`absolute top-10 right-10 w-72 h-72 ${theme.blob2} rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000 z-0 transition-colors duration-700`}></div>

                    {/* Content Wrapper */}
                    <div className="w-full max-w-md z-10 flex flex-col items-center">
                        
                        {/* 1. HEADER (JUDUL & DESKRIPSI) - SELALU DI ATAS */}
                        <div className="text-center mb-6 w-full">
                            <div className="w-20 h-20 mx-auto mb-3 rounded-full p-1 bg-gradient-to-tr from-purple-400 to-cyan-400">
                                <div className="w-full h-full bg-slate-800 rounded-full flex items-center justify-center overflow-hidden">
                                   <span className="text-2xl">ðŸš€</span>
                                </div>
                            </div>
                            <h1 className="text-2xl font-bold text-white uppercase tracking-wider">DIGITALISASI PEMBELAJARAN</h1>
                            <p className="text-xs text-blue-200 mt-2 px-4 leading-relaxed font-light">
                                Ini adalah microsite dinamis yang memuat informasi seputar Digitalisasi Pembelajaran khususnya terkait Papan Interaktif Digital (PID)</p>
                        </div>

                        {/* 2. NAVBAR (TOMBOL ADMIN/PREVIEW) - DI TENGAH */}
                        <div className="mb-6 bg-white/5 backdrop-blur-md p-1 rounded-full border border-white/10 flex shadow-xl">
                            {view === 'admin' ? (
                                <button onClick={handleLogout} className="flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300 text-sm bg-red-500/20 text-red-200 hover:bg-red-500 hover:text-white border border-red-500/30">
                                    <LogOut /> <span>Keluar / Kunci</span>
                                </button>
                            ) : (
                                <button onClick={handleAdminClick} className="flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300 text-sm text-white/70 hover:text-white hover:bg-white/5">
                                    <Lock /> <span>Admin</span>
                                </button>
                            )}
                            
                            <button onClick={() => setView('public')} className={`flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300 text-sm ${view === 'public' ? 'bg-white text-purple-900 font-bold shadow-lg' : 'text-white/70 hover:text-white'}`}>
                                <LayoutGrid /> <span>Preview</span>
                            </button>
                        </div>

                        {/* 3. STATUS MESSAGE */}
                        {statusMsg && (
                            <div className={`mb-4 text-center text-xs px-3 py-1 rounded-full inline-block backdrop-blur border w-full ${statusMsg.includes('âš ï¸') ? 'bg-yellow-500/20 border-yellow-500/50 text-yellow-200' : 'bg-white/10 border-white/10'}`}>
                                {statusMsg}
                            </div>
                        )}

                        {/* 4. CONTENT BODY (BAWAH) */}
                        <div className="w-full animate-fade-in-up">
                            {view === 'admin' ? (
                                <div className="bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-2xl">
                                    
                                    {/* --- FITUR GANTI TEMA (BACKGROUND) --- */}
                                    <div className="mb-6 pb-6 border-b border-white/10">
                                        <h3 className="text-xs uppercase font-bold text-white/50 mb-3 flex items-center gap-2">
                                            <Palette /> Ganti Background
                                        </h3>
                                        <div className="grid grid-cols-5 gap-3 justify-items-center">
                                            {Object.keys(THEMES).map((key) => (
                                                <button 
                                                    key={key}
                                                    onClick={() => setCurrentTheme(key)}
                                                    className={`w-10 h-10 rounded-full border-2 transition-transform hover:scale-110 ${THEMES[key].preview} ${currentTheme === key ? 'ring-2 ring-white scale-110 shadow-lg' : 'border-white/20 opacity-70 hover:opacity-100'}`}
                                                    title={`Tema: ${THEMES[key].name}`}
                                                />
                                            ))}
                                        </div>
                                    </div>
                                    {/* ----------------------------------- */}

                                    {/* HEADER KELOLA TAUTAN */}
                                    <div className="flex items-center justify-between mb-4">
                                        <h2 className="text-xl font-bold text-white">Kelola Tautan</h2>
                                        <div className="flex items-center gap-2">
                                            {/* TOMBOL BUKA DATABASE */}
                                            <a 
                                                href={sheetUrl} 
                                                target="_blank" 
                                                rel="noopener noreferrer"
                                                className="px-2 py-1 bg-green-500/20 hover:bg-green-500/30 border border-green-500/30 rounded text-xs text-green-300 flex items-center gap-1 transition-colors"
                                            >
                                                <SheetIcon /> <span className="hidden sm:inline">Database</span>
                                            </a>

                                            <div className="px-2 py-1 bg-purple-500/20 border border-purple-500/30 rounded text-xs text-purple-300 flex items-center gap-1">
                                                <Unlock size={10} /> Terbuka
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <form onSubmit={addLink} className="space-y-4 mb-6">
                                        <div className="space-y-1">
                                            <label className="text-xs text-purple-200 uppercase font-semibold ml-1">Judul</label>
                                            <input type="text" value={newLabel} onChange={(e) => setNewLabel(e.target.value)} placeholder="Nama Website" className="w-full bg-black/20 border border-white/10 rounded-xl py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-purple-400 transition-all text-sm" />
                                        </div>
                                        <div className="space-y-1">
                                            <label className="text-xs text-purple-200 uppercase font-semibold ml-1">Link URL</label>
                                            <div className="relative">
                                                <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-white/50"><LinkIcon /></div>
                                                <input type="text" value={newUrl} onChange={(e) => setNewUrl(e.target.value)} placeholder="google.com" className="w-full bg-black/20 border border-white/10 rounded-xl py-2 pl-9 pr-4 text-white focus:outline-none focus:ring-2 focus:ring-purple-400 transition-all text-sm" />
                                            </div>
                                        </div>
                                        <button type="submit" disabled={isLoading} className="w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white font-bold py-2 rounded-xl shadow-lg transform hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2">
                                            {isLoading ? <div className="w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"></div> : <><Plus /> Tambah & Simpan</>}
                                        </button>
                                    </form>

                                    <div className="border-t border-white/10 pt-3">
                                        <div className="space-y-2 max-h-48 overflow-y-auto no-scrollbar">
                                            {links.map((link) => (
                                                <div key={link.id} className="flex items-center justify-between bg-black/20 p-2 rounded-lg border border-white/5 group">
                                                    <div className="flex flex-col overflow-hidden px-2">
                                                        <span className="font-semibold text-sm truncate">{link.label}</span>
                                                        <span className="text-[10px] text-white/40 truncate">{link.url}</span>
                                                    </div>
                                                    <button onClick={() => requestDelete(link.id)} className="p-1.5 text-white/40 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors cursor-pointer"><Trash2 /></button>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            ) : (
                                <div>
                                    {isLoading && links.length === 0 ? (
                                        <div className="flex justify-center py-10"><div className="w-8 h-8 border-4 border-white/20 border-t-purple-500 rounded-full animate-spin"></div></div>
                                    ) : (
                                        <div className="grid gap-3">
                                            {links.length === 0 && <p className="text-center text-white/40 italic">Belum ada tautan.</p>}
                                            {links.map((link) => (
                                                <a key={link.id} href={link.url} target="_blank" rel="noopener noreferrer" className={`relative group overflow-hidden bg-gradient-to-r ${link.color} p-[1px] rounded-xl shadow-lg hover:shadow-purple-500/20 transform transition-all duration-300 hover:-translate-y-1`}>
                                                    <div className="bg-slate-900/95 group-hover:bg-slate-900/0 h-full w-full rounded-xl px-4 py-3 flex items-center justify-between transition-all duration-300">
                                                        <span className="font-bold text-md text-white group-hover:drop-shadow-md pl-2">{link.label}</span>
                                                        <ExternalLink />
                                                    </div>
                                                </a>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Footer */}
                    <div className="mt-8 z-10 text-center text-white text-sm font-semibold pb-4 tracking-wide shadow-black drop-shadow-md">
                        Created by Wartam - SMPN 4 Majenang
                    </div>

                    {/* AUTH MODAL */}
                    {showAuthModal && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
                            <div className="absolute inset-0 bg-black/60 backdrop-blur-sm" onClick={() => setShowAuthModal(false)}></div>
                            <div className={`bg-slate-800 border border-white/10 rounded-2xl p-6 w-full max-w-sm relative z-10 shadow-2xl modal-enter ${isPinError ? 'animate-shake' : ''}`}>
                                <div className="flex flex-col items-center text-center">
                                    <div className="w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center text-purple-400 mb-4">
                                        <Lock />
                                    </div>
                                    <h3 className="text-lg font-bold text-white mb-2">BUKA KUNCI</h3>
                                    <p className="text-white/60 text-sm mb-4">Masukkan pasword untuk melanjutkan</p>
                                    
                                    <form onSubmit={verifyPin} className="w-full">
                                        <input 
                                            type="password" 
                                            value={inputPin}
                                            onChange={(e) => setInputPin(e.target.value)}
                                            className="w-full bg-black/30 border border-white/20 rounded-xl py-3 px-4 text-center text-white text-lg tracking-widest focus:outline-none focus:border-purple-500 mb-4"
                                            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢"
                                            autoFocus
                                        />
                                        <button 
                                            type="submit"
                                            className="w-full py-3 rounded-xl bg-purple-600 hover:bg-purple-500 text-white font-bold transition-colors"
                                        >
                                            Buka
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* DELETE MODAL */}
                    {deleteId && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
                            <div className="absolute inset-0 bg-black/60 backdrop-blur-sm" onClick={() => setDeleteId(null)}></div>
                            <div className="bg-slate-800 border border-white/10 rounded-2xl p-6 w-full max-w-sm relative z-10 shadow-2xl modal-enter">
                                <div className="flex flex-col items-center text-center">
                                    <div className="w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center text-red-400 mb-4">
                                        <AlertTriangle />
                                    </div>
                                    <h3 className="text-lg font-bold text-white mb-2">Hapus Tautan?</h3>
                                    <p className="text-white/60 text-sm mb-6">Apakah Anda yakin ingin menghapus tautan ini?</p>
                                    <div className="flex gap-3 w-full">
                                        <button onClick={() => setDeleteId(null)} className="flex-1 px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-white transition-colors text-sm font-semibold">Batal</button>
                                        <button onClick={confirmDelete} className="flex-1 px-4 py-2 rounded-xl bg-red-500 hover:bg-red-600 text-white transition-colors text-sm font-semibold shadow-lg shadow-red-500/20">Ya, Hapus</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
